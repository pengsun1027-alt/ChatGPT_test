<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<title>消息中心</title>
		<link rel="stylesheet" href="styles.css">
                <style>
			:root {
				--primary: #2b6fff;
				--primary-active: #1c54f0;
				--primary-subtle: #e8eeff;
				--success: #22c55e;
				--warning: #f59e0b;
				--danger: #ef4444;
				--text: #0f172a;
				--muted: #64748b;
				--border: #e2e8f0;
				--bg: #f8fafc;
				--card: #ffffff;
				--shadow: 0 6px 16px rgba(16, 24, 40, 0.06);
			}
			* {
				box-sizing: border-box;
				-webkit-tap-highlight-color: transparent;
			}
			body {
				margin: 0;
				padding: 0;
				background: var(--bg);
				color: var(--text);
				font-family: var(--font-family);
				font-size: var(--font-size);
				line-height: var(--line-height);
				/* 禁用纵向滚动条但保留滚动功能 */
				overflow-y: scroll;
			}
			/* Firefox 隐藏滚动条 */
			html {
				scrollbar-width: none;
			}

			/* 隐藏滚动条 */
			::-webkit-scrollbar {
				width: 0;
				background: transparent;
			}

			/* IE/Edge 隐藏滚动条 */
			-ms-overflow-style: none;
			a {
				color: inherit;
				text-decoration: none;
			}
			.container {
				padding: var(--spacing);
			}
			.navbar {
				position: sticky;
				top: 0;
				z-index: 10;
				background: #fff;
				padding: calc(var(--spacing) * 0.75) 16px;
				border-bottom: 1px solid var(--border);
				display: flex;
				align-items: center;
				gap: calc(var(--spacing) * 0.75);
			}
			.navbar .title {
				font-weight: 600;
				font-size: 18px;
			}
			.card {
				background: var(--card);
				border: 1px solid var(--border);
				border-radius: 12px;
				box-shadow: var(--shadow);
			}
			.card + .card {
				margin-top: calc(var(--spacing) * 0.75);
			}
			.btn {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				height: 44px;
				padding: 0 16px;
				border-radius: 12px;
				border: 1px solid var(--border);
				background: #fff;
				font-weight: 600;
			}
			.btn:active {
				transform: scale(0.98);
			}
			.btn-primary {
				background: var(--primary);
				border-color: var(--primary);
				color: #fff;
			}
			.btn-primary:disabled {
				background: #9db8ff;
				border-color: #9db8ff;
			}
			.btn-ghost {
				background: #fff;
				border-color: var(--border);
				color: #000;
			}
			.btn-small {
				height: 32px;
				padding: 0 12px;
				border-radius: 10px;
				font-size: 14px;
			}
			.input {
				width: 100%;
				height: 44px;
				border: 1px solid var(--border);
				border-radius: 10px;
				padding: 0 12px;
				background: #fff;
			}
			.input:focus {
				outline: none;
				border-color: var(--primary);
			}
			.row {
				display: flex;
				gap: calc(var(--spacing) * 0.5);
				align-items: center;
			}
			.col {
				display: flex;
				flex-direction: column;
				gap: 10px;
			}
			.small {
				font-size: 12px;
				color: var(--muted);
			}
			.helper {
				font-size: 12px;
				color: var(--muted);
			}
			.helper.error {
				color: var(--danger);
			}
			.badge {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				min-width: 16px;
				height: 16px;
				padding: 0 4px;
				border-radius: 999px;
				background: var(--danger);
				color: #fff;
				font-size: 12px;
				line-height: 1;
			}
			.chips {
				display: flex;
				gap: calc(var(--spacing) * 0.5);
				overflow: auto;
				padding: calc(var(--spacing) * 0.5) 16px;
				border-bottom: 1px solid var(--border);
				background: #fff;
				position: sticky;
				top: 54px;
				z-index: 9;
			}
			.chip {
				padding: calc(var(--spacing) * 0.5) 12px;
				border: 1px solid var(--border);
				border-radius: 999px;
				background: #fff;
				font-size: 14px;
				white-space: nowrap;
			}
			.chip.active {
				background: var(--primary-subtle);
				border-color: var(--primary);
				color: var(--primary);
			}
			.msg {
				padding: calc(var(--spacing) * 0.75);
			}
			.msg + .msg {
				border-top: 1px dashed var(--border);
			}
			.msg .head {
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			.msg .title {
				font-weight: 700;
			}
			.msg .unread {
				width: 8px;
				height: 8px;
				border-radius: 999px;
				background: var(--danger);
				margin-left: 6px;
			}
			.msg .meta {
				font-size: 12px;
				color: var(--muted);
			}
			.link {
				color: var(--primary);
				text-decoration: underline;
			}
		</style>
	</head>
	<body>
		<div class="navbar">
			<div class="title">消息中心</div>
			<div class="row" style="margin-left: auto">
				<button class="btn btn-small" onclick="markAll()">清空未读</button>
			</div>
		</div>

		<div class="chips">
			<div class="chip active" onclick="filter('all', this)">全部</div>
			<div class="chip" onclick="filter('task', this)">任务</div>
			<div class="chip" onclick="filter('repair', this)">维修</div>
			<div class="chip" onclick="filter('system', this)">系统</div>
		</div>

		<div class="container">
			<div class="card">
				<div id="list">
					<div class="msg" data-type="task" data-unread="1">
						<div class="head">
							<div class="row">
								<div class="title">【任务】供水泵#1 电机温度逾期 10m</div>
								<div class="unread"></div>
							</div>
							<div class="meta">09:40</div>
						</div>
						<div class="small">批次 2025W33，建议优先处理。<a class="link" href="#">去处理</a></div>
					</div>

					<div class="msg" data-type="repair" data-unread="1">
						<div class="head">
							<div class="row">
								<div class="title">【维修】工单 #WX-20250819-001 已指派给你</div>
								<div class="unread"></div>
							</div>
							<div class="meta">09:20</div>
						</div>
						<div class="small">轴承异响，请尽快接单处理。<a class="link" href="#">查看工单</a></div>
					</div>

					<div class="msg" data-type="system" data-unread="0">
						<div class="head">
							<div class="row">
								<div class="title">【系统】版本更新说明 V1.4.0</div>
							</div>
							<div class="meta">昨天 18:30</div>
						</div>
						<div class="small">优化上传稳定性，新增离线草稿批量提交。</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			function markAll() {
				document.querySelectorAll('.msg[data-unread="1"] .unread').forEach((e) => e.remove());
				document.querySelectorAll('.msg[data-unread="1"]').forEach((e) => e.setAttribute('data-unread', '0'));
			}
			function filter(type, el) {
				document.querySelectorAll('.chip').forEach((c) => c.classList.remove('active'));
				el.classList.add('active');
				document.querySelectorAll('.msg').forEach((m) => {
					if (type === 'all') m.style.display = 'block';
					else m.style.display = m.getAttribute('data-type') === type ? 'block' : 'none';
				});
			}
		</script>
	</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>设备巡检系统 - 维修工单</title>

		<!-- Vant 4 CSS -->
		<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/vant@4/lib/index.css" />
		<!-- Tailwind CSS -->
		<script src="https://cdn.tailwindcss.com"></script>

		<style>
			body {
				font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
				background: #f7f8fa;
			}
			.safe-bottom {
				padding-bottom: max(env(safe-area-inset-bottom), 0.75rem);
			}
		</style>
	</head>
	<body>
		<!-- 顶部导航栏 -->
		<header class="fixed inset-x-0 top-0 h-12 bg-white/90 backdrop-blur shadow-sm flex items-center justify-between px-4 z-50">
			<button class="w-8 h-8 flex items-center justify-center" onclick="history.back()">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
				</svg>
			</button>
			<h1 class="text-base font-semibold">维修工单</h1>
			<button class="w-8 h-8 flex items-center justify-center">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
				</svg>
			</button>
		</header>

		<!-- 筛选栏 -->
		<div class="fixed inset-x-0 top-12 bg-white border-b border-slate-200 z-40">
			<div class="flex space-x-1 px-4 py-3 overflow-x-auto">
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-blue-500 text-white whitespace-nowrap">
					全部
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 whitespace-nowrap">
					待处理
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 whitespace-nowrap">
					处理中
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 whitespace-nowrap">
					已完成
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-600 hover:bg-slate-200 whitespace-nowrap">
					已关闭
				</button>
			</div>
		</div>

		<!-- 主要内容区域 -->
		<main class="mt-28 px-4 pb-6 space-y-4">
			<!-- 工单统计卡片 -->
			<div class="bg-white rounded-2xl shadow-sm p-4">
				<h3 class="font-semibold text-slate-800 mb-3">工单统计</h3>
				<div class="grid grid-cols-4 gap-3">
					<div class="text-center">
						<div class="text-lg font-bold text-slate-800">12</div>
						<div class="text-xs text-slate-500">待处理</div>
					</div>
					<div class="text-center">
						<div class="text-lg font-bold text-orange-600">8</div>
						<div class="text-xs text-slate-500">处理中</div>
					</div>
					<div class="text-center">
						<div class="text-lg font-bold text-green-600">24</div>
						<div class="text-xs text-slate-500">已完成</div>
					</div>
					<div class="text-center">
						<div class="text-lg font-bold text-slate-600">3</div>
						<div class="text-xs text-slate-500">已关闭</div>
					</div>
				</div>
			</div>

			<!-- 工单列表 -->
			<div class="space-y-3">
				<!-- 工单项目 1 -->
				<div class="bg-white rounded-2xl shadow-sm p-4">
					<div class="flex items-start justify-between mb-3">
						<div class="flex-1">
							<div class="flex items-center space-x-2 mb-1">
								<h4 class="font-semibold text-slate-800">WO-2025-001</h4>
								<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700">
									紧急
								</span>
							</div>
							<p class="text-sm text-slate-600 mb-2">供水泵#1 - 电机温度异常</p>
							<div class="flex items-center space-x-4 text-xs text-slate-500">
								<span>报告人：张三</span>
								<span>2025-08-18 14:30</span>
							</div>
						</div>
						<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700">
							待处理
						</span>
					</div>
					<div class="flex items-center justify-between">
						<div class="text-xs text-slate-500">
							预计工时：2小时
						</div>
						<div class="flex space-x-2">
							<button class="px-3 py-1 bg-slate-100 text-slate-700 text-xs font-medium rounded-lg hover:bg-slate-200">
								详情
							</button>
							<button class="px-3 py-1 bg-blue-500 text-white text-xs font-medium rounded-lg hover:bg-blue-600">
								接单
							</button>
						</div>
					</div>
				</div>

				<!-- 工单项目 2 -->
				<div class="bg-white rounded-2xl shadow-sm p-4">
					<div class="flex items-start justify-between mb-3">
						<div class="flex-1">
							<div class="flex items-center space-x-2 mb-1">
								<h4 class="font-semibold text-slate-800">WO-2025-002</h4>
								<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700">
									一般
								</span>
							</div>
							<p class="text-sm text-slate-600 mb-2">循环泵#2 - 运行噪音异常</p>
							<div class="flex items-center space-x-4 text-xs text-slate-500">
								<span>报告人：李四</span>
								<span>2025-08-18 12:15</span>
							</div>
						</div>
						<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700">
							处理中
						</span>
					</div>
					<div class="flex items-center justify-between">
						<div class="text-xs text-slate-500">
							预计工时：4小时 · 维修人：王五
						</div>
						<div class="flex space-x-2">
							<button class="px-3 py-1 bg-slate-100 text-slate-700 text-xs font-medium rounded-lg hover:bg-slate-200">
								详情
							</button>
							<button class="px-3 py-1 bg-green-500 text-white text-xs font-medium rounded-lg hover:bg-green-600">
								更新
							</button>
						</div>
					</div>
				</div>

				<!-- 工单项目 3 -->
				<div class="bg-white rounded-2xl shadow-sm p-4">
					<div class="flex items-start justify-between mb-3">
						<div class="flex-1">
							<div class="flex items-center space-x-2 mb-1">
								<h4 class="font-semibold text-slate-800">WO-2025-003</h4>
								<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700">
									低
								</span>
							</div>
							<p class="text-sm text-slate-600 mb-2">风机#3 - 定期保养</p>
							<div class="flex items-center space-x-4 text-xs text-slate-500">
								<span>计划任务</span>
								<span>2025-08-17 10:00</span>
							</div>
						</div>
						<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700">
							已完成
						</span>
					</div>
					<div class="flex items-center justify-between">
						<div class="text-xs text-slate-500">
							实际工时：3小时 · 维修人：赵六
						</div>
						<div class="flex space-x-2">
							<button class="px-3 py-1 bg-slate-100 text-slate-700 text-xs font-medium rounded-lg hover:bg-slate-200">
								详情
							</button>
							<button class="px-3 py-1 bg-slate-100 text-slate-700 text-xs font-medium rounded-lg hover:bg-slate-200">
								报告
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- 快捷操作 -->
			<div class="bg-white rounded-2xl shadow-sm p-4">
				<h3 class="font-semibold text-slate-800 mb-3">快捷操作</h3>
				<div class="grid grid-cols-2 gap-3">
					<button class="flex items-center justify-center p-4 bg-blue-50 border border-blue-200 rounded-xl hover:bg-blue-100">
						<div class="text-center">
							<svg class="w-6 h-6 mx-auto mb-2 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
							</svg>
							<div class="text-sm font-medium text-blue-700">新建工单</div>
						</div>
					</button>
					<button class="flex items-center justify-center p-4 bg-green-50 border border-green-200 rounded-xl hover:bg-green-100">
						<div class="text-center">
							<svg class="w-6 h-6 mx-auto mb-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
							<div class="text-sm font-medium text-green-700">批量审核</div>
						</div>
					</button>
				</div>
			</div>
		</main>

		<!-- 浮动新建按钮 -->
		<button class="fixed bottom-6 right-6 w-14 h-14 bg-blue-500 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-blue-600 z-50" onclick="openNewRepair()">
			<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
			</svg>
		</button>

		<!-- Vant 4 JS -->
		<script src="https://fastly.jsdelivr.net/npm/vant@4/lib/vant.min.js"></script>

		<script>
			function openNewRepair() {
				location.href = 'repair-new.html';
			}

			// 筛选功能
			const filterButtons = document.querySelectorAll('header + div button');
			filterButtons.forEach(button => {
				button.addEventListener('click', () => {
					filterButtons.forEach(btn => {
						btn.classList.remove('bg-blue-500', 'text-white');
						btn.classList.add('bg-slate-100', 'text-slate-600');
					});
					button.classList.remove('bg-slate-100', 'text-slate-600');
					button.classList.add('bg-blue-500', 'text-white');
					
					// 这里可以添加实际的筛选逻辑
					console.log('筛选:', button.textContent);
				});
			});
		</script>
	</body>
</html>
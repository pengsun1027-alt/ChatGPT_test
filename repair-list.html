<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>设备巡检系统 - 维修工单</title>

		<!-- Tailwind CSS - 优先 -->
		<script src="https://cdn.tailwindcss.com"></script>
		<!-- Vant 4 CSS - 仅在必要时使用 -->
		<!-- <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/vant@4/lib/index.css" /> -->

		<style>
			body {
				font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
				background: #f7f8fa;
			}
			.safe-bottom {
				padding-bottom: max(env(safe-area-inset-bottom), 0.75rem);
			}
		</style>
	</head>
	<body>
		<!-- 顶部导航栏 -->
		<header class="fixed inset-x-0 top-0 h-12 bg-white/90 backdrop-blur shadow-sm flex items-center justify-between px-4 z-50">
			<button class="w-10 h-10 flex items-center justify-center" onclick="history.back()">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
					<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
				</svg>
			</button>
			<h1 class="text-lg font-semibold text-slate-900">维修工单</h1>
			<button class="w-10 h-10 flex items-center justify-center">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
					<path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
				</svg>
			</button>
		</header>

		<!-- 筛选栏 -->
		<div class="fixed inset-x-0 top-12 bg-white border-b border-slate-200 z-40">
			<div class="flex space-x-2 px-4 py-4 overflow-x-auto">
				<button class="px-4 py-2 text-sm font-medium rounded-full text-white whitespace-nowrap" style="background-color: #2563EB;">
					全部
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200 whitespace-nowrap transition-colors">
					待处理
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200 whitespace-nowrap transition-colors">
					处理中
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200 whitespace-nowrap transition-colors">
					已完成
				</button>
				<button class="px-4 py-2 text-sm font-medium rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200 whitespace-nowrap transition-colors">
					已关闭
				</button>
			</div>
		</div>

		<!-- 主要内容区域 -->
		<main class="mt-32 px-4 pb-6 space-y-4">
			<!-- 工单统计卡片 -->
			<div class="bg-white rounded-lg shadow-sm border border-slate-200 p-5">
				<h3 class="font-semibold text-slate-900 mb-4">工单统计</h3>
				<div class="grid grid-cols-4 gap-4">
					<div class="text-center">
						<div class="text-2xl font-bold text-orange-500 mb-1">12</div>
						<div class="text-sm text-slate-700">待处理</div>
					</div>
					<div class="text-center">
						<div class="text-2xl font-bold text-blue-600 mb-1">8</div>
						<div class="text-sm text-slate-700">处理中</div>
					</div>
					<div class="text-center">
						<div class="text-2xl font-bold text-green-600 mb-1">24</div>
						<div class="text-sm text-slate-700">已完成</div>
					</div>
					<div class="text-center">
						<div class="text-2xl font-bold text-slate-600 mb-1">3</div>
						<div class="text-sm text-slate-700">已关闭</div>
					</div>
				</div>
			</div>

			<!-- 工单列表 -->
			<div class="space-y-4">
				<!-- 工单项目 1 -->
				<div class="bg-white rounded-lg shadow-sm border border-slate-200 p-5">
					<div class="flex items-start justify-between mb-4">
						<div class="flex-1">
							<div class="flex items-center space-x-2 mb-1">
								<h4 class="font-semibold text-slate-900 text-lg">供水泵#1</h4>
								<span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700">
									紧急
								</span>
							</div>
							<div class="mb-2">
								<span class="text-sm text-slate-600">WO-2025-001</span>
							</div>
							<p class="text-sm text-slate-600 mb-3">电机温度异常</p>
							<div class="flex items-center space-x-4 text-xs text-slate-600">
								<span>报告人：张三</span>
								<span>2025-08-18 14:30</span>
							</div>
						</div>
						<div class="flex items-center space-x-2">
							<div class="w-2 h-2 bg-orange-500 rounded-full"></div>
							<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700">
								待处理
							</span>
						</div>
					</div>
					<div class="flex items-center justify-between">
						<div class="text-sm text-slate-600">
							预计工时：2小时
						</div>
						<div class="flex space-x-3">
							<button class="px-4 py-2 bg-slate-100 text-slate-700 text-sm font-medium rounded hover:bg-slate-200 transition-colors">
								详情
							</button>
							<button class="px-4 py-2 text-white text-sm font-medium rounded hover:bg-blue-700 transition-colors" style="background-color: #2563EB;">
								接单
							</button>
						</div>
					</div>
				</div>

				<!-- 工单项目 2 -->
				<div class="bg-white rounded-lg shadow-sm border border-slate-200 p-5">
					<div class="flex items-start justify-between mb-4">
						<div class="flex-1">
							<div class="flex items-center space-x-2 mb-1">
								<h4 class="font-semibold text-slate-900 text-lg">循环泵#2</h4>
								<span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-slate-100 text-slate-700">
									一般
								</span>
							</div>
							<div class="mb-2">
								<span class="text-sm text-slate-600">WO-2025-002</span>
							</div>
							<p class="text-sm text-slate-600 mb-3">运行噪音异常</p>
							<div class="flex items-center space-x-4 text-xs text-slate-600">
								<span>报告人：李四</span>
								<span>2025-08-18 12:15</span>
							</div>
						</div>
						<div class="flex items-center space-x-2">
							<div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
							<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700">
								处理中
							</span>
						</div>
					</div>
					<div class="flex items-center justify-between">
						<div class="text-sm text-slate-600">
							预计工时：4小时 · 维修人：王五
						</div>
						<div class="flex space-x-3">
							<button class="px-4 py-2 bg-slate-100 text-slate-700 text-sm font-medium rounded hover:bg-slate-200 transition-colors">
								详情
							</button>
							<button class="px-4 py-2 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-700 transition-colors">
								更新
							</button>
						</div>
					</div>
				</div>

				<!-- 工单项目 3 -->
				<div class="bg-white rounded-lg shadow-sm border border-slate-200 p-5">
					<div class="flex items-start justify-between mb-4">
						<div class="flex-1">
							<div class="flex items-center space-x-2 mb-1">
								<h4 class="font-semibold text-slate-900 text-lg">风机#3</h4>
								<span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-slate-100 text-slate-700">
									低
								</span>
							</div>
							<div class="mb-2">
								<span class="text-sm text-slate-600">WO-2025-003</span>
							</div>
							<p class="text-sm text-slate-600 mb-3">定期保养</p>
							<div class="flex items-center space-x-4 text-xs text-slate-600">
								<span>计划任务</span>
								<span>2025-08-17 10:00</span>
							</div>
						</div>
						<div class="flex items-center space-x-2">
							<div class="w-2 h-2 bg-green-500 rounded-full"></div>
							<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700">
								已完成
							</span>
						</div>
					</div>
					<div class="flex items-center justify-between">
						<div class="text-sm text-slate-600">
							实际工时：3小时 · 维修人：赵六
						</div>
						<div class="flex space-x-3">
							<button class="px-4 py-2 bg-slate-100 text-slate-700 text-sm font-medium rounded hover:bg-slate-200 transition-colors">
								详情
							</button>
							<button class="px-4 py-2 bg-slate-100 text-slate-700 text-sm font-medium rounded hover:bg-slate-200 transition-colors">
								报告
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- 快捷操作 -->
			<div class="bg-white rounded-lg shadow-sm border border-slate-200 p-5">
				<h3 class="font-semibold text-slate-900 mb-4">快捷操作</h3>
				<div class="grid grid-cols-2 gap-4">
					<button class="flex items-center justify-center p-4 border rounded hover:bg-blue-50 transition-colors" style="background-color: #EFF6FF; border-color: #BFDBFE;">
						<div class="text-center">
							<svg class="w-8 h-8 mx-auto mb-2" style="color: #2563EB;" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
							</svg>
							<div class="text-sm font-semibold" style="color: #2563EB;">新建工单</div>
						</div>
					</button>
					<button class="flex items-center justify-center p-4 bg-green-50 border border-green-200 rounded hover:bg-green-100 transition-colors">
						<div class="text-center">
							<svg class="w-8 h-8 mx-auto mb-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
							</svg>
							<div class="text-sm font-semibold text-green-700">批量审核</div>
						</div>
					</button>
				</div>
			</div>
		</main>

		<!-- 浮动新建按钮 -->
		<button class="fixed bottom-6 right-6 w-16 h-16 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-blue-700 z-50 transition-colors" style="background-color: #2563EB;" onclick="openNewRepair()">
			<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
				<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
			</svg>
		</button>

		<!-- Vant 4 JS - 仅在必要时使用 -->
		<!-- <script src="https://fastly.jsdelivr.net/npm/vant@4/lib/vant.min.js"></script> -->

		<script>
			function openNewRepair() {
				location.href = 'repair-new.html';
			}

			// 筛选功能
			const filterButtons = document.querySelectorAll('header + div button');
			filterButtons.forEach(button => {
				button.addEventListener('click', () => {
					filterButtons.forEach(btn => {
						btn.classList.remove('text-white');
						btn.classList.add('bg-slate-100', 'text-slate-700');
						btn.style.backgroundColor = '';
					});
					button.classList.remove('bg-slate-100', 'text-slate-700');
					button.classList.add('text-white');
					button.style.backgroundColor = '#2563EB';
					
					// 这里可以添加实际的筛选逻辑
					console.log('筛选:', button.textContent);
				});
			});
		</script>
	</body>
</html>